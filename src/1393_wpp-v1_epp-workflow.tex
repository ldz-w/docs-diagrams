% Preamble
\documentclass[tikz,border=12pt,12pt]{standalone}
\input{style.tikz}

\begin{document}
\begin{tikzpicture}

  % Aid Lines
  \draw[ad1] (-5,0) -- (-5,-10);
  \draw[ad2] (5,0) -- (5,-10);
  \draw[ad3] (15,0) -- (15,-10);
  \draw[ad4] (25,0) -- (25,-10);

  % Participants
  \node[pt1] at (-5,1.5) {Consumer};
  \node[ic] (ic1) at (-5,3)
       {\includegraphics[width=.1\textwidth]{useralt.png}};
       \node[pt2] at (5,2) {Payment Page \\ (Merchant Site)};
       \node[ic] (ic2) at (5,3)
            {\includegraphics[width=.1\textwidth]{paymentpage.png}};
            \node[pt3] at (15,1.5) {Payment Gateway};
            \node[ic] (ic3) at (15,3)
                 {\includegraphics[width=.1\textwidth]{gear.png}};
                 \node[pt4] at (25,2) {Financial \\ Institution};
                 \node[ic] (ic4) at (25,3)
                      {\includegraphics[width=.1\textwidth]{issuing.png}};

                      % Nodes
                      \fill[1] (-5.1,-.75) rectangle (-4.9,-1.25);
                      \fill[2] (5.1,-1) rectangle (4.9,-1.5);
                      \fill[3] (15.1,-1.5) rectangle (14.9,-3);
                      \fill[2] (5.1,-3) rectangle (4.9,-4.5);
                      \fill[3] (14.9,-4.5) rectangle (15.1,-5);
                      \fill[4] (24.9,-5) rectangle (25.1,-6.5);
                      \fill[3] (14.9,-6.5) rectangle (15.1,-7);
                      \fill[2] (5.1,-7) rectangle (4.9,-9);
                      \fill[1] (-5.1,-8.75) rectangle (-4.9,-9.25);


                      % Arrows & Text
                      \draw[arw_sl]
                      	(-4.8,-1) -- node[midway,above] {1. } (4.8,-1);
                      \draw[arw_sl, txt_bd]
                      	(5.2,-1.5) -- node[midway,above] {2. } (14.8,-1.5);
                      \draw[arw_dsh, txt_bd]
                      	(14.8,-3) -- node[midway,above] {3. } (5.2,-3);
                      \draw[arw_sl, txt_bd]
                     	 (5.2,-4.5) -- node[midway,above] {4. } (14.8,-4.5);
                      \draw[arw_sl, txt_bd]
                      	(15.2,-5) -- node[midway,above] {5. } (24.8,-5);
                      \draw[arw_dsh, txt_bd]
                      	(24.8,-6.5) -- node[midway,above] {5.1 } (15.2,-6.5);
                      \draw[arw_dsh, txt_bd]
                      	(14.8,-7) -- node[midway,above] {6. } (5.2,-7);
                      \draw[arw_dsh, txt_bd]
                      	(5.3,-7.5) -- (5.5,-7.5) -- node[midway,right] {7. } (5.5,-9) -- (5.3,-9);
                      \draw[arw_dsh, txt_bd]
                      	(4.8,-9) -- node[midway,above] {8. } (-4.8,-9);

\end{tikzpicture}
\end{document}
