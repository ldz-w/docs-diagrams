% Document Header
\documentclass[tikz,border=12pt,30pt]{standalone}
\hyphenpenalty=10000
\input{style/cc-flow1.tikz}
\input{vars/shortcuts.tex}

\usepackage{tikz}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{shapes.multipart}

\begin{document}
\begin{tikzpicture} 

% Nodes
\node [split, text width=5cm, text height=.4cm, text depth=.4cm] (request1) {\nodepart [white]{one} 1 capture (Request)
						\nodepart {two} $<$requested-amount \\ currency="EUR"$>$20.00$<$/ \\ requested-amount$>$ };
\node [split, text width=5cm, node distance=7cm, text height=.58cm, text depth=.58cm, right of=request1] (response1) {\nodepart [white]{one} 2 capture (Response)
						\nodepart {two} $<$transaction-id$>$12345$<$/ \\ transaction-id$>$};
\node [split, text width=5cm, node distance=7cm, text height=.4cm, text depth=.4cm, right of=response1] (request2) {\nodepart [white]{one} 3 void-capture (Request)
						\nodepart {two}  $<$parent-transaction-id$>$12345$<$/parent-transaction-id$>$};
\node [split, text width=5cm, node distance=7cm, text height=.4cm, text depth=.4cm, right of=request2] (response2) {\nodepart [white]{one} 4 void-capture (Response)
						\nodepart {two}  $<$requested-amount \\ currency="EUR"$>$20.00$<$/ \\ requested-amount$>$ };
\node [outcome, text width=5cm, node distance=7cm, text height=1.3cm, text depth=1.3cm, right of=response2] (outcome) {Funds not transferred from consumer's account};

% Lines
\draw[solidarrow] (request1.east) -- (response1.west);
\draw[solidarrow] (response1.east) -- (request2.west);
\draw[solidarrow] (request2.east) -- (response2.west);
\draw[solidarrow] (response2.east) -- (outcome.west);

% Document Footer
\end{tikzpicture}
\end{document}
